<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>{{ title }}</title>
    </head>
    <body>
        <div id="root">

            <p>Please enter your name: <br>
                <input type="text">

            <button>Add Name</button>

            <name-list :list="nameList"></name-list>

        </div>

        <script src="https://unpkg.com/vue@2.1.3/dist/vue.js"></script>
        <script src="https://cdn.jsdelivr.net/vue.resource/1.0.3/vue-resource.min.js"></script>

        <script>

            Vue.component('name-list', {

                props: ['list'],

                template: `
                            <div>
                                <task v-for="name in list" v-text="name"></task>
                            </div>
                        `

            });

            Vue.component('task', {

                template: `
                        <li><slot></slot></li>
                        `

            });


            new Vue({

                el: '#root',

                data: {
                    nameList: []
                },

               mounted(){
                   this.$http.get('/api/name').then((response) => {
                       var names = JSON.parse(response.body);
                        this.nameList= this.nameList.concat(JSON.parse(response.body));
                        console.log(this.nameList);
                   });
               }


            });

        </script>
    </body>
</html>
